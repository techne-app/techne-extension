/* Import Tailwind CSS FIRST - PostCSS requires imports before other rules */
@import "tailwindcss";

/* Design tokens for Techne components - CONSOLIDATED */
@layer theme {
  :root {
    /* HN-style color palette */
    --hn-bg: #f6f6ef;           /* HN beige background */
    --hn-text: #333;            /* Primary text color */
    --hn-orange: #ff6600;       /* HN accent color */
    --hn-link: #0066cc;         /* Link color */
    --hn-gray: #999;            /* Secondary text */
    --hn-border: #e0e0e0;       /* Borders and dividers */
    
    /* Card components */
    --card-bg: var(--hn-bg);    /* Card backgrounds */
    --card-text: var(--hn-text); /* Card text */
    
    /* Interactive states */
    --hover-bg: #f0f0f0;        /* Hover backgrounds */
    --focus-ring: var(--hn-orange); /* Focus ring color */
    
    /* Spacing and sizing */
    --card-padding: 1rem;
    --card-radius: 0.5rem;
    --card-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    
    /* Typography */
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    
    /* Line heights */
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
  }
}

/* Custom animations - must be outside layers */
@keyframes subtle-glow {
  0% { box-shadow: 0 0 0 0 rgba(255, 102, 0, 0.15); }
  50% { box-shadow: 0 0 4px 1px rgba(255, 102, 0, 0.1); }
  100% { box-shadow: 0 0 0 0 rgba(255, 102, 0, 0); }
}

/* Global styles for shared components - CONSOLIDATED */
@layer components {
  /* Base component styles using design tokens */
  .techne-card {
    background-color: var(--card-bg);
    color: var(--card-text);
    padding: var(--card-padding);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
    border: 1px solid var(--hn-border);
  }

  .techne-link {
    color: var(--hn-link);
    text-decoration: none;
  }

  .techne-link:hover {
    text-decoration: underline;
  }

  .techne-text-secondary {
    color: var(--hn-gray);
  }

  .techne-text-primary {
    color: var(--hn-text);
  }

  .techne-accent {
    color: var(--hn-orange);
  }

  /* Tag styles */
  .techne-tag {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    font-size: var(--font-size-sm);
    background-color: var(--hn-bg);
    color: var(--hn-text);
    border: 1px solid var(--hn-border);
    border-radius: 0.25rem;
    line-height: var(--line-height-tight);
  }

  .techne-tag:hover {
    background-color: var(--hover-bg);
  }

  /* Button styles */
  .techne-button {
    padding: 0.5rem 1rem;
    font-size: var(--font-size-base);
    background-color: var(--hn-orange);
    color: white;
    border: none;
    border-radius: var(--card-radius);
    cursor: pointer;
    transition: opacity 0.2s ease;
  }

  .techne-button:hover {
    opacity: 0.9;
  }

  .techne-button:focus {
    outline: 2px solid var(--focus-ring);
    outline-offset: 2px;
  }

  /* Loading states */
  .techne-loading {
    opacity: 0.6;
    pointer-events: none;
  }

  /* Responsive utilities */
  @media (max-width: 640px) {
    .techne-card {
      padding: calc(var(--card-padding) * 0.75);
    }
  }
}

/* Component-specific utilities for extension */
@layer utilities {
  .animate-subtle-glow {
    animation: subtle-glow 2s ease-in-out;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-7 {
    display: -webkit-box;
    -webkit-line-clamp: 7;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-subtle-glow,
    .animate-pulse {
      animation: none !important;
    }
  }
}